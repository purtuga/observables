var __LIB=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});const r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:Function("return this;")()}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);const r=Function.bind.call.bind(Function.bind)(Function.call.bind,Function.call),o=Object.defineProperty,s=Object.defineProperties,i=Object.keys,c=[],a=Array.isArray,u=(r(c.forEach),r(c.indexOf)),p=(r(c.splice),console.log),l=(console.error,console.warn,"undefined"!=typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"),d=HTMLElement.prototype,f=document;f.head,r(d.appendChild),r(d.insertBefore),r(d.hasAttribute),r(d.setAttribute),r(d.removeAttribute);var h=n(0);function b(e,t){o(this,"_",{value:{keys:e.slice(0),values:t?t.slice(0):null,idx:0,total:e.length}})}s(b.prototype,{constructor:{value:b},next:{enumerable:!0,configurable:!0,value(){const e={done:this._.idx===this._.total};if(e.done)return e.value=void 0,e;const t=this._.idx++;return e.value=this._.keys[t],this._.values&&(e.value=[e.value,this._.values[t]]),e}}}),o(b.prototype,l,{value(){return this}});var _=h.a.Set&&h.a.Set.prototype[l]?h.a.Set:v;function v(){}s(v.prototype,{constructor:{value:v,configurable:!0},_:{get(){const e=[];return o(this,"_",{value:e}),e}},add:{value(e){return-1===u(this._,e)&&this._.push(e),this}},has:{value(e){return-1!==u(this._,e)}},size:{get(){return this._.length}},clear:{value(){this._.splice(0)}},delete:{value(e){const t=u(this._,e);return-1!==t&&(this._.splice(t,1),!0)}},values:{value(){return new b(this._)}},entries:{value(){return new b(this._,this._)}},forEach:{value(e,t){this._.forEach(t=>e(t,t,this),t)}},[l]:{value(){return this.values()}}});let y=/native code/i,g=function(){if("undefined"!=typeof setImediate&&y.test(setImediate.toString()))return setImediate;if("function"==typeof Promise&&y.test(Promise.toString())){let e=Promise.resolve();return function(t){e.then(t).catch(e=>console.error(e))}}let e=[],t=!1;return function(n){e.push(n),t||(t=!0,function n(){setTimeout(function(){e.shift()(),e.length?n():t=!1},0)}())}}(),w=!1;const m=new Set;let j,k;const O=()=>{const e=[...m];for(m.clear(),w=!1,j=0,k=e.length;j<k;j++)e[j]()};g.queue=(e=>{m.add(e),w||(w=!0,g(O))});var P=g;const x="___$observable$___",I={configurable:!0,enumerable:!0},S=new _,C="___$watching$___",T="__$watchable$__",E=`__$is${T}`,B=["pop","push","shift","splice","unshift","sort","reverse"],D=e=>e&&"[object Object]"===Object.prototype.toString.call(e),L=new _;let z=!1;function W(e,t,n){e[x]||$(e),t&&!e[x].props[t]?(F(e,t),M(e,t)):t&&e[x].props[t].setupInterceptors&&M(e,t),t&&n?e[x].props[t].storeCallback(n):t||(N(e,!1),n&&e[x].storeCallback(n));const r=function(e,t){e&&(t.dependents&&(t.dependents.delete(e),Y(e,t.dependents)),t.watchers.delete(e),Y(e,t.watchers))}.bind(e,n,t?e[x].props[t]:e[x]);return r.destroy=r,r}function $(e){e[x]||(o(e,x,{configurable:!0,writable:!0,deep:!1,value:{props:{},dependents:new _,watchers:new _,storeCallback:K}}),A(e[x].dependents,!1),A(e[x].watchers,!0))}function A(e,t=!1){e.async=t,e.isQueued=!1,e.notify=q}function F(e,t){return e[x].props[t]||(e[x].props[t]={val:void 0,dependents:new _,watchers:new _,parent:e[x],storeCallback:K,setupInterceptors:!0,deep:e[x].deep},A(e[x].props[t].dependents,!1),A(e[x].props[t].watchers,!0)),e[x].props[t]}function M(e,t){const n=Object.getOwnPropertyDescriptor(e,t)||I;n.get||(e[x].props[t].val=e[t],e[x].props[t].deep&&N(e[x].props[t].val)),o(e,t,{configurable:n.configurable||!1,enumerable:n.enumerable||!1,get:()=>(S.size&&S.forEach(e[x].props[t].storeCallback,e[x].props[t]),n.get?n.get.call(e):e[x].props[t].val),set(r){const o=e[t];return n.set?r=n.set.call(e,r):e[x].props[t].val=r,e[x].props[t].deep&&N(r),r!==o&&(e[x].props[t].watchers.notify(),e[x].props[t].dependents.notify(),e[x].watchers.notify()),r}}),e[x].props[t].setupInterceptors=!1,n===I&&e[x].watchers.notify()}function N(e,t=!0,n=!1){return D(e)||a(e)?(e[x]||(D(e)?$(e):a(e)&&Z(e)),n||!e[x].deep?(t&&(e[x].deep=!0),a(e)?function(e,t){for(let n=0,r=e.length;n<r;n++)N(e[n],!0,t)}(e):function(e,t){const n=i(e);for(let r=0,o=n.length;r<o;r++)e[x].props[n[r]]||(F(e,n[r]),M(e,n[r])),e[x].props[n[r]].deep&&!t||(e[x].props[n[r]].deep=!0,D(e[n[r]])&&N(e[n[r]],!0,t))}(e),e):void 0):e}function q(){this.size&&(this.async?this.forEach(Q):this.forEach(G),H())}function H(e){e&&Q(e),!z&&L.size&&(z=!0,P(J))}function Q(e){L.add(e)}function G(e){e()}function J(){const e=[...L];L.clear(),z=!1;for(let t=0,n=e.length;t<n;t++)e[t]();e.length=0}function K(e){e.asDependent&&this.dependents?(X(e,this.dependents),this.dependents.add(e)):(X(e,this.watchers),this.watchers.add(e))}function R(e){S.add(e)}function U(e){S.delete(e)}function V(e){e[C]&&e[C].stopWatchingAll()}function X(e,t){e[C]||(o(e,C,{configurable:!0,writable:!0,value:{watching:new _}}),o(e,"stopWatchingAll",{configurable:!0,writable:!0,value(){e[C].watching.forEach(t=>t.delete(e)),e[C].watching.clear()}})),e[C].watching.add(t)}function Y(e,t){e[C]&&e[C].watching.delete(t)}function Z(e){if(e[x]||$(e),e[E])return;const t=e.__proto__;if(!t[T]){const e=Object.create(t);B.forEach(n=>{o(e,n,{configurable:!0,writable:!0,value:function(...e){const r=t[n].call(this,...e);return this[x].dependents.notify(),this[x].watchers.notify(),r}})}),o(e,"size",{configurable:!0,get(){return S.size&&S.forEach(this[x].storeCallback,this[x]),this.length}}),o(e,E,{value:!0}),o(t,T,{configurable:!0,writable:!0,value:e})}e.__proto__=t[T]}function ee(e,t,n,r=!0){let s,i,c=!0,a=!1,u=!0;const p=()=>{u||(u=!0,e[x].props[t].watchers.size?H(l):e[x].props[t].dependents.size&&e[x].props[t].dependents.notify())},l=r=>{if(u){try{R(p),i=n.call(e,e),U(p),r?(s=i,e[x].props[t].deep&&N(s)):(a=!0,u=!1,e[t]=i)}catch(e){throw a=!1,u=!1,i=void 0,U(p),e}a=!1,u=!1,i=void 0}};p.asDependent=!0,p.forProp=l.forProp=t,t in e&&(delete e[t],e[x]&&e[x].props[t]&&(e[x].props[t].setupInterceptors=!0)),o(e,t,{configurable:!0,enumerable:!!r,get:()=>(c?(c=!1,l(!0)):u&&l(),s),set:e=>(a&&(s=e),s)}),W(e,t)}function te(e,t){e[x]||Z(e),t&&e[x].storeCallback(t);const n=()=>e[x].watchers.delete(t);return n.destroy=n,n}n.d(t,"objectWatchProp",function(){return W}),n.d(t,"makeObservable",function(){return N}),n.d(t,"setDependencyTracker",function(){return R}),n.d(t,"stopTrackerNotification",function(){return V}),n.d(t,"unsetDependencyTracker",function(){return U}),n.d(t,"objectCreateComputedProp",function(){return ee}),n.d(t,"arrayWatch",function(){return te})}]);export const objectWatchProp=__LIB.objectWatchProp;export const makeObservable=__LIB.makeObservable;export const setDependencyTracker=__LIB.setDependencyTracker;export const stopTrackerNotification=__LIB.stopTrackerNotification;export const unsetDependencyTracker=__LIB.unsetDependencyTracker;export const objectCreateComputedProp=__LIB.objectCreateComputedProp;export const arrayWatch=__LIB.arrayWatch;
//# sourceMappingURL=observables.esm.min.js.map